def PrintStageName() {
  echo "-----------------${env.STAGE_NAME}-----------------"
}


pipeline {

  agent { label 'linux-agents' }


  triggers {  //before the stages, so no need to configure it seperately in diff section on jenkins gui
    pollSCM 'H/10 * * * *'
  }

  stages {

      stage("Stage-Print-Build-Number"){
        steps{
          PrintStageName()
          echo "BUILD_NUMBER = ${env.BUILD_NUMBER}"
        }
      }

    stage('Stage-Get-git-Repo')  {
      steps {
        PrintStageName()
        script {
          try{
            // Pull code from a GitHub repository
            git branch: 'main', url: 'https://github.com/fedora800/scratch_project.git'
          }
          catch (err) {
            echo err
          }
        }
      }
    }


    } // end-stages


}

